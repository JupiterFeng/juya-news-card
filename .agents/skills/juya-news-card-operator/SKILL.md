---
name: juya-news-card-operator
description: Operate juya-news-card as a local CLI text-to-image card tool. Use when Codex should transform user text into final card content itself and render PNG directly with Playwright plus SSR-ready templates, without starting the Next.js app.
---

# Juya News Card Operator

## Overview

Use this skill to treat the repository as an executable tool, not a codebase to refactor. Default flow: choose template -> AI drafts final card content -> run local CLI renderer -> output PNG.

## Default Workflow

1. Install dependencies (`npm install`) and ensure Playwright browser is installed.
2. Discover available SSR templates by running `--list-themes`.
3. Convert raw text into final `{mainTitle, cards[]}` content in the running AI session.
4. Save that content to a JSON file.
5. Render PNG by running `scripts/render_from_content_local.ts`.

## Required Runtime Inputs

- Template ID that is SSR-ready (discover via `--list-themes`)
- Card content JSON generated by the AI running this skill
- Local Playwright runtime (`npx playwright install chromium-headless-shell`)

## Operating Rules

- Generate render content in-agent.
- Prefer local CLI rendering over starting the Next.js app.
- Do not place upstream LLM secrets in `VITE_*` variables.
- On error, inspect content JSON and template ID first, then Playwright environment.

## Script

- `scripts/render_from_content_local.ts`
  - Input: JSON content (`--content-file`)
  - Renders locally via Playwright + SSR template HTML
  - Output: PNG file (`--output`)
  - Supports `--list-themes` for discovering valid templates

## References

- Startup and command playbooks: `references/cli-workflows.md`
- Optional API fallback details: `references/api-contracts.md`
